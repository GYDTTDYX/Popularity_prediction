---
title: "data import"
output:
  html_document:
    toc: true
    toc_float: true
    code_folding: hide
---

```{r include=FALSE, message=FALSE, warning=FALSE}
library(tidyverse)
library(ggplot2)
library(wordcloud2)
library(plotly)
library(glmnet)
library(caret)
library(ROCR)
```

## Data import and cleaning

*Data source* 

We found a [Steam Game Dataset](https://www.kaggle.com/datasets/fronkongames/steam-games-dataset) from Kaggle. It uses gather information from Steam API. 

```{r}
df = read.csv("DATA/games.csv")|>
  janitor::clean_names()
```

In the process of preparing our data for analysis, we have established a inclusion criteria:

```{r}
df = df|> subset(price > 0)
```

Our analysis exclude free games since for free-to-play games, in-app purchases often serve as indecator of popularity. However, due to the unavailability of such data, the inclusion in our analysis would make our analysis inapproprate. 

```{r}
df = df|>
  subset(select = -c(dlc_count, about_the_game, reviews, header_image, website, support_url, support_email, metacritic_score, metacritic_url, notes, developers, publishers, screenshots, movies, score_rank, average_playtime_two_weeks, median_playtime_two_weeks, average_playtime_forever, peak_ccu, full_audio_languages))
  
```

```{r}
#Change the format of release date. 
df = df|>
  mutate(release_date = as.Date(release_date, format = "%b %d, %Y"))
```
In addition, we removed certain non-essential variables from our dataset.

We eliminate columns containing URLs as we cannot make analysis based on them.

Variables associated with game developers and publishers will be filtered out for two primary reasons. Firstly, quantifying the effect of developer names may be challenging, if not impossible. Secondly, we hypothesize that brand effects can be captured using other keywords. (for example, there is a tag for independent games, which is the complement of games made by large companies.)

Furthermore, we will exclude the variables "Playtime in Current Two Weeks" since it may not be meaningful enough for older games, and "Average Playtime Forever" in favor of "Median Playtime Forever" due to potential distortions caused by AFK (Away From Keyboard) gamers. 

To address potential data leakage issues, we will further select features in model fitting part. 